---
description: When a bug is reported, follow these steps in order to resolve it
globs: 
alwaysApply: false
---
# âš”ï¸ ELITE BUG FIXING WARRIOR PROTOCOL âš”ï¸

## ğŸ¯ ULTIMATE MISSION
**ğŸ† DOMINATE BUGS. CRUSH REGRESSIONS. ACHIEVE LEGENDARY STATUS. ğŸ†**

This document defines the mandatory bug-fixing protocol for VibeCoder following **Elite Warrior Standards** with zero tolerance for failing tests or linter errors.

## ğŸ’€ MANDATORY BUG FIXING STEPS [NO EXCEPTIONS]

### 1. âš”ï¸ REPRODUCE THE BUG [MANDATORY FIRST]
**RULE**: Every bug MUST be reproduced before any code changes.

#### ğŸ¯ REPRODUCTION REQUIREMENTS:
- Follow exact steps from bug report
- Use same data/environment conditions
- Document all reproduction steps
- Verify bug behavior matches report

#### ğŸš« BANNED PRACTICES:
- Blind fixes without reproduction
- Assumptions about bug behavior
- Skipping steps in reproduction

### 2. ğŸ§ª CREATE FAILING TEST [CRITICAL]
**RULE**: Write test BEFORE fixing the bug.

#### ğŸ¯ TEST REQUIREMENTS:
- Test MUST fail initially
- Test MUST be focused on ONLY this bug
- Test MUST be minimal and precise
- Test MUST follow user's reproduction steps
- Test MUST NOT modify existing tests unless flawed logic proven

#### ğŸ’» TEST IMPLEMENTATION:
```dart
// âœ… WARRIOR APPROVED: Focused bug test
test('ğŸ›¡ï¸ REGRESSION: Widget fails when data is null', () {
  final widget = MyWidget(data: null);
  expect(() => widget.build(context), throwsException);
});

// âŒ BANNED: Modifying existing tests without reason
test('existing test modified without justification', () {
  // CRIME: Changing working tests
});
```

### 3. ğŸ”§ IMPLEMENT FIX [SURGICAL PRECISION]
**RULE**: Write minimal code to make test pass.

#### ğŸ¯ FIX REQUIREMENTS:
- Follow architecture.mdc and flutter_architecture.mdc
- Implement cleanest solution
- Focus ONLY on this specific bug
- No unrelated changes

#### ğŸ’» FIX IMPLEMENTATION:
```dart
// âœ… WARRIOR APPROVED: Clean focused fix
class MyWidget extends StatelessWidget {
  final Data? data;
  
  @override
  Widget build(BuildContext context) {
    if (data == null) return Container(); // Clean null check
    return buildContent();
  }
}

// âŒ BANNED: Unfocused fixes
class MyWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    try {
      // CRIME: Hiding errors instead of fixing root cause
      return buildContent();
    } catch (e) {
      return Container();
    }
  }
}
```

### 4. âœ… VERIFY FIX [ZERO TOLERANCE]
**RULE**: Systematic verification with linter-first approach. No exceptions.

#### ğŸ¯ MANDATORY VERIFICATION SEQUENCE:
1. **ğŸ” LINTER SCAN FIRST**: `flutter analyze` â†’ MUST show "No issues found!"
   - **ğŸ’€ COMPILATION REALITY**: Linter errors prevent test execution
   - **âš”ï¸ FIX ORDER**: Errors first â†’ Warnings second â†’ Tests last
   - **ğŸ›¡ï¸ GATE KEEPER**: Code must compile before any functionality testing
2. **ğŸ§ª TEST EXECUTION**: `flutter test` â†’ ONLY after perfect linting
   - New regression test passes
   - All existing tests pass
   - Zero test failures or errors
3. **ğŸ¯ FUNCTIONAL VERIFICATION**: Bug fix verified in same environment as reproduction

#### ğŸš« BANNED PRACTICES:
- **ğŸ’€ PREMATURE TEST EXECUTION**: Running tests with active linter errors (INSTANT FAILURE)
- **ğŸš« COMPILATION BYPASS**: Attempting to test non-compiling code
- Ignoring failing tests
- Suppressing linter errors instead of fixing them
- Skipping linter analysis before test runs
- **ğŸ’€ SEQUENCE VIOLATION**: Any attempt to run tests before "No issues found!" message

### 5. ğŸ° SECURE THE FORTRESS [PERMANENT PROTECTION]
**RULE**: The regression test MUST be permanent.

#### ğŸ¯ PERMANENCE REQUIREMENTS:
- The new test created in Step 2 is committed to the codebase.
- The test is not a temporary diagnostic and provides permanent regression protection.
- Deleting regression tests is a critical violation of the **PERMANENT TEST FORTRESS PROTOCOL**.

## ğŸ† VICTORY CONDITIONS

### âœ… MANDATORY COMPLIANCE:
- [ ] Bug reproduced and documented
- [ ] Failing test written
- [ ] Fix implemented following architecture standards
- [ ] **LINTER PERFECT**: `flutter analyze` shows "No issues found!" (PREREQUISITE)
- [ ] **TESTS PERFECT**: All tests passing (executed AFTER linter clean)
- [ ] Regression test is permanent and committed

### ğŸ’€ INSTANT FAILURE CONDITIONS:
- **LINTER VIOLATIONS**: Any errors or warnings in `flutter analyze`
- **PREMATURE TEST EXECUTION**: Running tests before fixing linter errors (CRITICAL VIOLATION)
- **COMPILATION FAILURE**: Attempting to test code that won't compile
- Failing tests in codebase
- Modified tests without justification
- Blind fixes without reproduction
- **SEQUENCE VIOLATION**: Any deviation from linter â†’ test order

**âš°ï¸ PERFECT TESTS OR DEATH! âš°ï¸**
